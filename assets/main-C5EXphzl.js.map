{"version":3,"file":"main-C5EXphzl.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. CORE SETUP ---\n    lucide.createIcons();\n    \n    // Smooth Scroll\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n    });\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Register GSAP Plugins\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- 2. HEADER & MOBILE MENU ---\n    const burger = document.querySelector('.header__burger');\n    const closeBtn = document.querySelector('.nav__close');\n    const nav = document.getElementById('nav-menu');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    const toggleMenu = () => {\n        nav.classList.toggle('is-open');\n        document.body.style.overflow = nav.classList.contains('is-open') ? 'hidden' : '';\n    };\n\n    if(burger) burger.addEventListener('click', toggleMenu);\n    if(closeBtn) closeBtn.addEventListener('click', toggleMenu);\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (nav.classList.contains('is-open')) toggleMenu();\n        });\n    });\n\n    // --- 3. HERO ANIMATIONS (Three.js + GSAP) ---\n    // Text Reveal\n    const heroTl = gsap.timeline();\n    heroTl.from('.hero__badge', { y: 20, opacity: 0, duration: 0.8 })\n          .from('.hero__title', { y: 30, opacity: 0, duration: 1 }, '-=0.6')\n          .from('.hero__desc', { y: 20, opacity: 0, duration: 0.8 }, '-=0.8')\n          .from('.hero__actions', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n          .from('.hero__content', { border: '1px solid transparent', duration: 1 }, '-=1');\n\n    // 3D Sphere\n    const canvasContainer = document.getElementById('canvas-container');\n    if (canvasContainer) {\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, canvasContainer.clientWidth / canvasContainer.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n        \n        renderer.setSize(canvasContainer.clientWidth, canvasContainer.clientHeight);\n        canvasContainer.appendChild(renderer.domElement);\n\n        const geometry = new THREE.IcosahedronGeometry(1.8, 1);\n        const material = new THREE.MeshBasicMaterial({ color: 0x6366F1, wireframe: true, transparent: true, opacity: 0.5 });\n        const pointsMaterial = new THREE.PointsMaterial({ color: 0xD4FF00, size: 0.05 });\n\n        const sphere = new THREE.Mesh(geometry, material);\n        const points = new THREE.Points(geometry, pointsMaterial);\n        \n        const group = new THREE.Group();\n        group.add(sphere);\n        group.add(points);\n        scene.add(group);\n        camera.position.z = 5;\n\n        function animateThree() {\n            requestAnimationFrame(animateThree);\n            group.rotation.x += 0.002;\n            group.rotation.y += 0.003;\n            group.position.y = Math.sin(Date.now() * 0.001) * 0.1;\n            renderer.render(scene, camera);\n        }\n        animateThree();\n\n        window.addEventListener('resize', () => {\n            const width = canvasContainer.clientWidth;\n            const height = canvasContainer.clientHeight;\n            renderer.setSize(width, height);\n            camera.aspect = width / height;\n            camera.updateProjectionMatrix();\n        });\n    }\n\n    // --- 4. SCROLL ANIMATIONS (Sections) ---\n    // Fade Up for Titles\n    gsap.utils.toArray('.section-title').forEach(title => {\n        gsap.from(title, {\n            scrollTrigger: { trigger: title, start: 'top 85%' },\n            y: 30, opacity: 0, duration: 0.8\n        });\n    });\n\n    // Bento Cards\n    gsap.utils.toArray('.bento-item').forEach((item, i) => {\n        gsap.from(item, {\n            scrollTrigger: { trigger: item, start: 'top 90%' },\n            y: 50, opacity: 0, duration: 0.6, delay: i * 0.1\n        });\n    });\n\n    // Steps\n    gsap.utils.toArray('.step').forEach((step, i) => {\n        gsap.from(step, {\n            scrollTrigger: { trigger: '.steps', start: 'top 80%' },\n            y: 30, opacity: 0, duration: 0.6, delay: i * 0.15\n        });\n    });\n\n// --- 5. CONTACT FORM LOGIC ---\n    const form = document.getElementById('lead-form');\n    const phoneInput = document.getElementById('phone');\n    const captchaInput = document.getElementById('captcha');\n    const captchaLabel = document.getElementById('captcha-label');\n    const policyCheckbox = document.getElementById('policy'); // <--- Находим чекбокс\n    const statusDiv = document.getElementById('form-status');\n\n    // Phone: Digits only\n    if(phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    // Math Captcha\n    let num1 = Math.floor(Math.random() * 10);\n    let num2 = Math.floor(Math.random() * 10);\n    if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n    if(form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n            statusDiv.textContent = '';\n            statusDiv.className = 'form-status';\n\n            // Reset errors (убираем красную обводку и цвет у чекбокса)\n            document.querySelectorAll('.form-group').forEach(el => el.classList.remove('error'));\n            document.querySelectorAll('.form-checkbox').forEach(el => el.classList.remove('error'));\n\n            // 1. Name & Email\n            const name = document.getElementById('name');\n            const email = document.getElementById('email');\n            \n            if(name.value.trim().length < 2) {\n                name.parentElement.classList.add('error');\n                isValid = false;\n            }\n            if(!email.value.includes('@') || !email.value.includes('.')) {\n                email.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 2. Phone\n            if(phoneInput.value.length < 6) {\n                phoneInput.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 3. Captcha\n            if(parseInt(captchaInput.value) !== (num1 + num2)) {\n                captchaInput.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 4. CHECKBOX (Новая проверка)\n            if (!policyCheckbox.checked) {\n                policyCheckbox.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 5. Submit\n            if(isValid) {\n                const btn = form.querySelector('button');\n                const originalText = btn.textContent;\n                btn.textContent = 'Отправка...';\n                btn.disabled = true;\n\n                // Simulate AJAX\n                setTimeout(() => {\n                    btn.textContent = originalText;\n                    btn.disabled = false;\n                    form.reset();\n                    \n                    // New captcha\n                    num1 = Math.floor(Math.random() * 10);\n                    num2 = Math.floor(Math.random() * 10);\n                    captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n                    \n                    statusDiv.textContent = 'Спасибо! Мы свяжемся с вами в ближайшее время.';\n                    statusDiv.classList.add('success');\n                }, 1500);\n            }\n        });\n    }\n\n    // --- 6. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('accept-cookies');\n\n    if(!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('show');\n        }, 2000);\n    }\n\n    if(acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n});"],"names":["lenis","t","raf","time","burger","closeBtn","nav","navLinks","toggleMenu","link","canvasContainer","animateThree","group","renderer","scene","camera","geometry","material","pointsMaterial","sphere","points","width","height","title","item","i","step","form","phoneInput","captchaInput","captchaLabel","policyCheckbox","statusDiv","num1","num2","isValid","el","name","email","btn","originalText","cookiePopup","acceptBtn"],"mappings":"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"}